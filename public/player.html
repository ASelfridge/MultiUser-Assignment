<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <script src="js/aframe-v0.8.2.min.js"></script>
        <script src="js/aframe-physics-system.min.js"></script>
        <script src="js/global.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            let socket = io();

            //default connect event
            socket.on('connect', function() {
                console.log("connected!");
            });
        </script>
        <script src="js/read.js"></script>
    </head>
    <body>
        <!-- <a-scene fog="color:#FFF;density:0.06;type:exponential"> -->
        <a-scene>
            <a-assets>
                <img id="skymap" src="assets/textures/CloudySky.jpg" />
            </a-assets>

            <a-entity light="type: point; castShadow: true"></a-entity>
            <a-entity 
                id="player1" 
                read="writeTo: playerEmulate; file: 1"
                position="0 2 0" 
                camera
                wasd-controls="acceleration: 120" 
                look-controls>
                <a-entity geometry="primitive: box; height: 2;" position="0 -1 0"></a-entity>
                <a-entity cursor="rayOrigin:mouse"></a-entity>
            </a-entity>
            <a-entity position="0 20 0">
                    <a-entity class="camCountdown" text="value: 3; width: 3.5; wrapCount: 1; color: red" visible="false" rotation="0 90 0"></a-entity>
                    <a-entity class="camCountdown" text="value: 3; width: 3.5; wrapCount: 1; color: red" visible="false" rotation="0 270 0"></a-entity>

                    <a-entity id="camTarget1" class="camTarget" position="-38 0 0" geometry="primitive: sphere" material="color: blue"></a-entity>
                    <a-entity id="camTarget2" class="camTarget" position="38 0 0" geometry="primitive: sphere" material="color: blue" visible="false"></a-entity>
            </a-entity>
            <a-entity static-body geometry="primitive: plane; width: 100; height: 100" rotation="-90 0 0" material="color: black"></a-entity>
            <a-entity id="pickupBox" geometry="primitve: box" position="0 1 -4"></a-entity>

            <a-entity   id="sky"
                        geometry="primitive: sphere; radius: 500;"
                        material="shader: flat; src: #skymap; side: back;">
            </a-entity>
        </a-scene>
        <div id="loseText" class="fullScreen">
            <h1>YOU WERE CAUGHT</h1>
        </div>
        <script src="js/write2.js"></script>
    </body>
</html>